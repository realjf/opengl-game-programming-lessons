# 纹理滤镜，照明和键盘控制

在本教程中，我将教您如何使用三种不同的纹理滤镜。我将教您如何使用键盘上的键移动对象，并且还将教您如何将简单的照明应用于OpenGL场景。本教程涵盖了很多内容，因此，如果以前的教程给您带来了问题，请返回并进行回顾。在跳入下面的代码之前，对基础知识有很好的理解是很重要的。

我们将再次从第一课修改代码。和往常一样，如果有任何重大更改，我将写出已修改的整个代码部分。我们将从向程序中添加一些新变量开始。

```
#include    <windows.h>                           // Header File For Windows
#include    <stdio.h>                         // Header File For Standard Input/Output ( ADD )
#include    <gl\gl.h>                         // Header File For The OpenGL32 Library
#include    <gl\glu.h>                            // Header File For The GLu32 Library
#include    <gl\glaux.h>                          // Header File For The GLaux Library
 
HDC     hDC=NULL;                           // Private GDI Device Context
HGLRC       hRC=NULL;                           // Permanent Rendering Context
HWND        hWnd=NULL;                          // Holds Our Window Handle
HINSTANCE   hInstance;                          // Holds The Instance Of The Application
 
bool        keys[256];                          // Array Used For The Keyboard Routine
bool        active=TRUE;                            // Window Active Flag
bool        fullscreen=TRUE;                        // Fullscreen Flag
```

以下几行是新的。我们将添加三个布尔变量。BOOL表示变量只能为TRUE或FALSE。我们创建一个名为light的变量来跟踪照明是打开还是关闭。变量lp和fp用于存储是否已按下“ L”或“ F”键。我将在稍后的代码中解释为什么我们需要这些变量。现在，只知道它们很重要。

```
BOOL    light;                                  // Lighting ON / OFF
BOOL    lp;                                 // L Pressed?
BOOL    fp;                                 // F Pressed?
```

现在我们将设置五个变量，这些变量将控制x轴上的角度（xrot），y轴上的角度（yrot），周转箱在x轴上旋转的速度（xspeed）以及箱子在y轴上旋转的最大速度（yspeed）。我们还将创建一个名为z的变量，该变量将控制包装箱进入屏幕的深度（在z轴上）。

```
GLfloat xrot;                                   // X Rotation
GLfloat yrot;                                   // Y Rotation
GLfloat xspeed;                                 // X Rotation Speed
GLfloat yspeed;                                 // Y Rotation Speed
GLfloat z=-5.0f;                                // Depth Into The Screen
```

